" Inspirations:
" https://github.com/justinforce/dotfiles/blob/master/files/nvim/init.vim
" https://medium.com/@huntie/10-essential-vim-plugins-for-2018-39957190b7a9

execute pathogen#infect()

syntax on
set secure
filetype plugin indent on
set tabstop=4                                    " show existing tab with 2 spaces widthspaces width
set shiftwidth=4                                 " when indenting with '>', use 2
set expandtab                                    " On pressing tab, insert 2 spaces
set ruler                                        " add a ruler to the command bar
set relativenumber                               " show line numbers relative to the cursor
set numberwidth=6                                " set the width of the line numbers
set scrolloff=10                                 " scroll the window so we can always see 10 lines around the cursor
set printoptions=paper:letter                    " use letter as the print output format
set diffopt=vertical                             " For fugitive: show :Gdiff side-by-side

" set background=dark
" let g:one_allow_italics=1                        " allow italics
" let g:airline_theme='onedark'
" colorscheme one
" set textwidth=80                                 " auto wrap at 80 characters
" set mouse=                                       " turn off mouse support
" set mouse=a                                      " mouse support for dropping the cursor
" set nomousehide                                  " don't hide the mouse cursor while typing
" set mousemodel=popup                             " right-click pops up context menu

" set the color for highlighting beyond 80
highlight ColorColumn ctermbg=237
let &colorcolumn="80,".join(range(120,999),",")  " add line markers at 80, and beyond 120

" these highlights should be put in a color scheme that uses my slack.terminal theme
" highlight Statement ctermfg=Blue
" highlight String ctermfg=Yellow
" highlight Type ctermfg=Green
" highlight Number ctermfg=Red
" set background=dark
highlight Statement ctermfg=12
highlight String ctermfg=11
highlight Type ctermfg=10
highlight Number ctermfg=9
highlight LineNr ctermfg=235
highlight Comment ctermfg=235
highlight MatchParen ctermbg=237
" highlight MatchParen ctermbg=5 ctermfg=15
highlight Error ctermbg=88
highlight ALEErrorSign ctermbg=89
highlight ALEError ctermbg=89

set nowrap                                       " don't wrap lines
augroup wrapTextInMarkdown                       " wrap lines for markdown files
  autocmd!
  autocmd FileType markdown setlocal wrap
  autocmd BufRead,BufNewFile *.md setlocal wrap
augroup END

" add fzf to the PATH
set rtp+=/usr/local/opt/fzf
" Open Files if no file was specified (vi)
autocmd StdinReadPre * let s:std_in=1
" autocmd VimEnter * if argc() == 0 && !exists("s:std_in") | call fzf#run({'sink': 'split'}) | endif

" Map Ctrl+b to NERDTreeToggle
map <C-b> :NERDTreeToggle<CR>
" Map Ctrl+t to :Files
map <C-t> :Files<CR>
" Map cut and copy keystrokes for visual mode
vmap <C-x> :!pbcopy<CR>
vmap <C-c> :w !pbcopy<CR><CR>

" linting 
" (https://prettier.io/docs/en/vim.html#ale-https-githubcom-w0rp-ale)
" let g:ale_linters_explicit = 1 " only run configured linters (no defaults)
let g:ale_fix_on_save=1        " automatically format on save
let g:ale_linters = { 
\  'javascript': ['eslint'],
\  'typescript': ['tsserver', 'tslint']
\}

let g:ale_fixers = {
\  'javascript': ['prettier', 'eslint'],
\  'jsx': ['prettier', 'eslint'],
\  'flow': ['prettier'],
\  'typescript': ['tslint'],
\  'css': ['prettier'],
\  'less': ['prettier'],
\  'scss': ['prettier'],
\  'json': ['prettier'],
\  'graphql': ['prettier'],
\  'markdown': ['prettier']
\}

